<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Client-Server Websocket</title>
        <link rel="stylesheet" href="/static/test.css">
        <script src="/static/jquery-3.1.0.min.js" type="application/javascript"></script>

    </head>
    <body>
    <h1>Websocket connection</h1>
    <form enctype="multipart/form-data" action="/uploads" method="post" id="file_form">
        File: <input type="file" name="filearg" id="upload_file" />
        <br />
        <br />
        <input type="submit" value="upload" id="submit_file"/>
    </form>
        <a href="javascript:WebSocketTest()">Run WebSocket</a>
    </body>
    <script type="text/javascript">
        window.onload = function () {
            var ws = new WebSocket("ws://localhost:8888/websocket?Id=123456789");
            ws.onopen = function(){
                ws.send("Connected");
            };
            ws.onmessage = function(evt){
                console.log(evt.data);
            };
        };
//        function WebSocketTest() {
//            if ("WebSocket" in window) {
//                console.log("WebSocket is supported by your Browser!");
//                var ws = new WebSocket("ws://localhost:8888/websocket?Id=123456789");
//                ws.onopen = function() {
//                    ws.send("Message to send");
//                };
//                ws.onmessage = function (evt) {
//                    var received_msg = evt.data;
//                    console.log(evt.data);
//                };
//                ws.onclose = function() {
//                    console.log("Connection is closed...");
//                };
//            } else {
//                console.log("WebSocket NOT supported by your Browser!");
//            }
//        }

    </script>
</html>